{"version":3,"sources":["components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Spinner.js","components/Notification.js","components/Modal.js","services/galleryApi.js","App.js","index.js"],"names":["Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","placeholder","onChange","Component","ImageGalleryItem","gallery","imageEnlarge","map","id","webformatURL","largeImageURL","key","onClick","src","alt","ImageGallery","Spinner","color","height","width","Notification","message","Modal","url","KEY","searchQuery","page","axios","get","then","response","data","hits","App","loading","error","showModal","fetchGallery","galleryApi","prevState","catch","finally","handleSearchForm","query","handleModalUrl","closeModal","loadMore","window","addEventListener","code","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","onClose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a63899fb.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../styles.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              placeholder=\"Search images and photos\"\r\n              value={this.state.inputValue}\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport '../styles.css';\r\n\r\n const ImageGalleryItem = ({ gallery,imageEnlarge }) => {\r\n  return (\r\n    <>\r\n      {gallery.map(({ id, webformatURL,largeImageURL }) => (\r\n        <li key={id} className=\"ImageGalleryItem\" onClick={()=>imageEnlarge(largeImageURL)}>\r\n          <img src={webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" ></img>\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport '../styles.css';\r\n\r\n\r\nconst ImageGallery = ({gallery, imageEnlarge}) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n         <ImageGalleryItem gallery={gallery} imageEnlarge={imageEnlarge} />\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport Loader from 'react-loader-spinner'\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nexport default function Spinner () {\r\n    return (\r\n        <Loader\r\n        type=\"Grid\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        \r\n      />\r\n    )\r\n \r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Notification({ message }) {\r\n  return <div>{message}</div>;\r\n}\r\n","import React from \"react\";\r\n\r\nconst Modal = ({url}) => {\r\n  \r\n\r\n   return (\r\n    <div className=\"Overlay\">\r\n      <div className=\"Modal\">\r\n        <img src={url} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;","import axios from 'axios';\r\nconst KEY = '4183861-f12117fb478e4048342d80c94'\r\n\r\nconst fetchGalleryWithQuery = (searchQuery, page = 1) => {\r\n  return axios\r\n    .get(`https://pixabay.com/api/?key=${KEY}&q=${searchQuery}&page=${page}?image_type=photo&orientation=horizontal&per_page=12`)\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchGalleryWithQuery,\r\n};","import React, { Component } from \"react\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Spinner from \"./components/Spinner\";\nimport Notification from \"./components/Notification\";\nimport Modal from \"./components/Modal\";\nimport galleryApi from \"./services/galleryApi\";\n\nexport default class App extends Component {\n  state = {\n    gallery: [],\n    loading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    showModal: null\n  };\n  componentDidMount() {\n    window.addEventListener(\"keydown\", e => {\n      if (e.code === \"Escape\") {\n        this.closeModal();\n      }\n    });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchGallery();\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\"\n      });\n    }\n  }\n\n  fetchGallery = () => {\n    const { searchQuery, page } = this.state;\n\n    galleryApi\n      .fetchGalleryWithQuery(searchQuery, page)\n      .then(gallery =>\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...gallery],\n          page: prevState.page + 1\n        }))\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearchForm = query => {\n    this.setState({\n      searchQuery: query\n    });\n  };\n  handleModalUrl = url => {\n    this.setState({\n      showModal: url\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      showModal: null\n    });\n  };\n\n  loadMore = () => {\n    this.fetchGallery();\n  };\n\n  render() {\n    const { gallery, error, loading, showModal } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleSearchForm} />\n        {error && (\n          <Notification\n            message={`Opps something went wrong ${error.message}`}\n          />\n        )}\n        {loading && <Spinner />}\n        {gallery.length > 0 && (\n          <ImageGallery gallery={gallery} imageEnlarge={this.handleModalUrl} />\n        )}\n        {gallery.length > 0 && (\n          <button type=\"button\" className=\"Button\" onClick={this.loadMore}>\n            Load More\n          </button>\n        )}\n        {showModal && <Modal url={showModal} onClose={this.closeModal} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}