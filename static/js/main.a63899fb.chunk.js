(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{22:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=a(9),i=a(3),u=a(4),s=a(6),m=a(5),h=a(7),g=(a(8),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:""},a.handleChange=function(e){a.setState({inputValue:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.inputValue),a.setState({inputValue:""})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",placeholder:"Search images and photos",value:this.state.inputValue,onChange:this.handleChange}))))}}]),t}(n.Component)),d=function(e){var t=e.gallery,a=e.imageEnlarge;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var t=e.id,n=e.webformatURL,l=e.largeImageURL;return r.a.createElement("li",{key:t,className:"ImageGalleryItem",onClick:function(){return a(l)}},r.a.createElement("img",{src:n,alt:"",className:"ImageGalleryItem-image"}))})))},p=function(e){var t=e.gallery,a=e.imageEnlarge;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"ImageGallery"},r.a.createElement(d,{gallery:t,imageEnlarge:a})))},f=a(20),y=a.n(f);a(48);function E(){return r.a.createElement(y.a,{type:"Grid",color:"#00BFFF",height:100,width:100})}function b(e){var t=e.message;return r.a.createElement("div",null,t)}var v=function(e){var t=e.url;return r.a.createElement("div",{className:"Overlay"},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t,alt:""})))},S=a(21),w=a.n(S),M="4183861-f12117fb478e4048342d80c94",O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return w.a.get("https://pixabay.com/api/?key=".concat(M,"&q=").concat(e,"&page=").concat(t,"?image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={gallery:[],loading:!1,error:null,searchQuery:"",page:1,showModal:null},a.fetchGallery=function(){var e=a.state,t=e.searchQuery,n=e.page;O(t,n).then((function(e){return a.setState((function(t){return{gallery:[].concat(Object(o.a)(t.gallery),Object(o.a)(e)),page:t.page+1}}))})).catch((function(e){return a.setState({error:e})})).finally((function(){return a.setState({loading:!1})}))},a.handleSearchForm=function(e){a.setState({searchQuery:e})},a.handleModalUrl=function(e){a.setState({showModal:e})},a.closeModal=function(){a.setState({showModal:null})},a.loadMore=function(){a.fetchGallery()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){"Escape"===t.code&&e.closeModal()}))}},{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&(this.fetchGallery(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}},{key:"render",value:function(){var e=this.state,t=e.gallery,a=e.error,n=e.loading,l=e.showModal;return r.a.createElement("div",null,r.a.createElement(g,{onSubmit:this.handleSearchForm}),a&&r.a.createElement(b,{message:"Opps something went wrong ".concat(a.message)}),n&&r.a.createElement(E,null),t.length>0&&r.a.createElement(p,{gallery:t,imageEnlarge:this.handleModalUrl}),t.length>0&&r.a.createElement("button",{type:"button",className:"Button",onClick:this.loadMore},"Load More"),l&&r.a.createElement(v,{url:l,onClose:this.closeModal}))}}]),t}(n.Component);c.a.render(r.a.createElement(j,null),document.getElementById("root"))},8:function(e,t,a){}},[[22,1,2]]]);
//# sourceMappingURL=main.a63899fb.chunk.js.map